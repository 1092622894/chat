#### 状态码

| 状态码 |                       含义                        |
| :----: | :-----------------------------------------------: |
|   20   |                       成功                        |
|  -20   |          用户错误，可以直接展示给用户看           |
|   40   | 系统的错误，不展示给用户看,安卓统一展示为系统繁忙 |

#### 接口调用的统一返回格式

```
  "status": 状态码,
  "accessToken": 标识用户的token,
  "sessionId": 标识会话的sessionId,
  "data": 返回值,
  "msg" : 失败或成功时的内容，失败通常是失败原因，成功通常是空
```

#### 用户个人信息接口/userInfoController接口

###### 获取用户的个人信息

|                           url                            | 请求方式 | 请求格式 |
| :------------------------------------------------------: | :------: | :------: |
| http://116.62.12.63:8080/chat//userInfo/query/{username} |   get    |          |

|   参数   | 必选 |  类型  | 默认值 |  说明  |
| :------: | :--: | :----: | :----: | :----: |
| username | true | String |   无   | 用户名 |

测试事例

```
http://116.62.12.63:8080/chat//userInfo/query/2
```

成功结果

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NSwiZXhwIjoxNTcxMDY3MjYwLCJ1c2VybmFtZSI6IjIifQ.XHcxr1xl6zMMKHhhT0z4bSvTP-rcpv-DmlM3KOMPSdA",
  "sessionId": "JSESSIONID=C48A33FD651D9493E02D1932C65CDF90",
  "data": {
    "nickname": "fsdfsdf",
    "avatar": "1571065008748wx_camera_1570976479058.jpg",
    "sex": 2,
    "email": "564",
    "sign": "546",
    "userId": 5
  }
}
```

失败结果

```
{
  "status": -20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NSwiZXhwIjoxNTcxMDY3MjYwLCJ1c2VybmFtZSI6IjIifQ.XHcxr1xl6zMMKHhhT0z4bSvTP-rcpv-DmlM3KOMPSdA",
  "sessionId": "JSESSIONID=C48A33FD651D9493E02D1932C65CDF90",
  "msg": "用户不存在"
}
```



###### 更新用户信息

|                      url                       | 请求方式 | 请求格式 |
| :--------------------------------------------: | :------: | :------: |
| http://116.62.12.63:8080/chat//userInfo/update |   post   | json格式 |

|   参数   | 必选  |  类型   | 默认值 |            说明            |
| :------: | :---: | :-----: | :----: | :------------------------: |
| nickname | false | String  |   无   |          用户昵称          |
|   sex    | false | Integer |   0    | 用户性别 1 表示男 0 表示女 |
|  email   | false | String  |   无   |          用户邮箱          |
|   sign   | false | String  |  暂无  |        用户个性签名        |

参数为以上参数任意即可

测试事例

```
{
    "nickname" : "test",
    "sex" : 1
}
```

成功事例·：

```
{
"status": 20, "accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwMjkyMjY4LCJ1c2VybmFtZSI6IjEifQ.DS9tNso-eUlhjq7et-5pxeqtulIfSFcgG4D0MvtQuvw"
 "sessionId": "JSESSIONID=8557DA429A5272D25AB21DD344EF9BF0",
}
```

失败事例:

```
{
"status": -20, "accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwMjkyMjY4LCJ1c2VybmFtZSI6IjEifQ.DS9tNso-eUlhjq7et-5pxeqtulIfSFcgG4D0MvtQuvw"
 "sessionId": "JSESSIONID=8557DA429A5272D25AB21DD344EF9BF0",
 "data" : "邮箱已经被注册，请重新输入新邮箱"
}
```

失败事例:

```
{
"status": -40, "accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwMjkyMjY4LCJ1c2VybmFtZSI6IjEifQ.DS9tNso-eUlhjq7et-5pxeqtulIfSFcgG4D0MvtQuvw"
 "sessionId": "JSESSIONID=8557DA429A5272D25AB21DD344EF9BF0",
 "msg" : "修改个人信息失败"
}
```

#### 找回密码---待完成

|                            url                            | 请求方式 | 请求格式 |
| :-------------------------------------------------------: | :------: | :------: |
| http://116.62.12.63:8080/chat//userinfo/findPassword/{id} |   get    |          |

| 参数 | 必选 |  类型   | 默认值 |  说明  |
| :--: | :--: | :-----: | :----: | :----: |
|  id  | true | Integer |   无   | 用户id |

#### 文件处理接口/FileHandlerController接口

###### 更换用户头像

|                       url                        | 请求方式 | 请求格式 |
| :----------------------------------------------: | :------: | :------: |
| http://116.62.12.63:8080/chat//file/updateAvatar |   post   |   表单   |

|  参数  | 必选 |  类型  |                   默认值                    |   说明   |
| :----: | :--: | :----: | :-----------------------------------------: | :------: |
| avatar | true | String | http://116.62.12.63:8080/images/default.png | 用户头像 |

成功结果：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NSwiZXhwIjoxNTcxMDY3MjYwLCJ1c2VybmFtZSI6IjIifQ.XHcxr1xl6zMMKHhhT0z4bSvTP-rcpv-DmlM3KOMPSdA",
  "sessionId": "JSESSIONID=C48A33FD651D9493E02D1932C65CDF90",
  "data": {
    "nickname": "fsdfsdf",
    "avatar": "1571065008748wx_camera_1570976479058.jpg",
    "sex": 2,
    "email": "564",
    "sign": "546",
    "userId": 5
  }
}
```

失败结果：

```
{
"status": 40,
"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwMjk0NDI1LCJ1c2VybmFtZSI6IjEifQ.V7d2iTo0mueJUk4wcZsbNY9ScikcWkFpIq1ZWN1_IcY",
"sessionId": "JSESSIONID=8557DA429A5272D25AB21DD344EF9BF0",
"msg":"上传文件失败"
}
```

###### 更换群头像

|                         url                         | 请求方式 | 请求格式 |
| :-------------------------------------------------: | :------: | :------: |
| http://116.62.12.63:8080/chat//file/updateIcon/{id} |   post   |   表单   |

| 参数 | 必选 |  类型   |                   默认值                    |  说明  |
| :--: | :--: | :-----: | :-----------------------------------------: | :----: |
| icon | true | String  | http://116.62.12.63:8080/images/default.png | 群头像 |
|  id  | true | Integer |                     无                      |  群id  |

成功结果：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=C9D75E6ECF44D353919F961C38549F2F",
  "data": {
    "id": 9,
    "groupName": "群聊",
    "groupAdminId": 3,
    "groupIcon": "http://116.62.12.63:8080/images/default.png",
    "groupNotice": "无",
    "groupIntroduction": "无",
    "gmtCreate": 1572956090000
  }
}
```

失败结果：

```
{
"status": 40,
"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwMjk0NDI1LCJ1c2VybmFtZSI6IjEifQ.V7d2iTo0mueJUk4wcZsbNY9ScikcWkFpIq1ZWN1_IcY",
"sessionId": "JSESSIONID=8557DA429A5272D25AB21DD344EF9BF0",
"msg":"上传文件失败"
}
```

###### 聊天时发送的文件

|                     url                      | 请求方式 | 请求格式 |
| :------------------------------------------: | :------: | :------: |
| http://116.62.12.63:8080/chat//file/{userId} |   post   |   表单   |

|  参数  | 必选 |  类型   |                   默认值                    |  说明  |
| :----: | :--: | :-----: | :-----------------------------------------: | :----: |
|  file  | true | String  | http://116.62.12.63:8080/images/default.png |  文件  |
| userId | true | Integer |                     无                      | 用户id |

成功结果：

```
{
"status": 20,
"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwMjk0NDI1LCJ1c2VybmFtZSI6IjEifQ.V7d2iTo0mueJUk4wcZsbNY9ScikcWkFpIq1ZWN1_IcY",
"sessionId": "JSESSIONID=8557DA429A5272D25AB21DD344EF9BF0",
"data": "1570293543338logo.png"
}
```

失败结果：

```
{
"status": 40,
"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwMjk0NDI1LCJ1c2VybmFtZSI6IjEifQ.V7d2iTo0mueJUk4wcZsbNY9ScikcWkFpIq1ZWN1_IcY",
"sessionId": "JSESSIONID=8557DA429A5272D25AB21DD344EF9BF0",
"msg":"上传文件失败"
}
```



#### 用户接口/userController接口

###### 注册

|                     url                      | 请求方式 | 请求格式 |
| :------------------------------------------: | :------: | :------: |
| http://116.62.12.63:8080/chat//user/register |   post   | json数据 |

|   参数   | 必选 |  类型  | 默认值 |   说明   |
| :------: | :--: | :----: | :----: | :------: |
| username | true | String |   无   |  用户名  |
| password | true | String |   无   | 用户密码 |

测试事例

```
{
    "username" : "3",
    "password" : "222222"
}
```

成功结果：

```
{
  "status": 20,
  "msg": "注册成功"
}
```

失败结果:

```
{
  "status": 40,
  "msg": "注册失败"
}
```



###### 登录

|                    url                    | 请求方式 | 请求参数 | 请求格式 |
| :---------------------------------------: | :------: | :------: | :------: |
| http://116.62.12.63:8080/chat//user/login |   post   |  看下面  | json数据 |

|   参数   | 必选 |  类型  | 默认值 |   说明   |
| :------: | :--: | :----: | :----: | :------: |
| username | true | String |   无   |  用户名  |
| password | true | String |   无   | 用户密码 |

注意头部(header)加上username

测试事例

```
{
    "username" : "1",
    "password" : "222222"
}
```

成功结果：

```
{
  "status": 20,
  "msg": "成功",
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=C4EF823CE4714D10AB83F72A90926E75",
  "data": {
    "user": {
      "id": 4,
      "username": "2",
      "password": "",
      "status": 0,
      "loginTime": 1570327849000
    },
    "userInfo": {
      "nickname": "44",
      "avatar": "default.png",
      "sex": 0,
      "email": null,
      "sign": "暂无",
      "userId": 4
    },
    "friends": [
      {
        "friendName": "1",
        "friendGroup": "默认",
        "friendId": 3,
        "userId": 4,
        "isDelete": 0,
        "username": "1",
        "status": 0,
        "loginTime": 1570265038000,
        "sex": 0,
        "sign": "暂无",
        "avatar": "1570841199761logo.png",
        "nickname": "33"
      }
    ],
    "groups": [
      {
        "id": 9,
        "groupName": "群聊",
        "groupAdminId": 3,
        "groupIcon": "http://116.62.12.63:8080/images/default.png",
        "groupNotice": "无",
        "groupIntroduction": "无",
        "gmtCreate": 1572956090000
      },
      {
        "id": 10,
        "groupName": "群聊",
        "groupAdminId": 4,
        "groupIcon": "http://116.62.12.63:8080/images/default.png",
        "groupNotice": "无",
        "groupIntroduction": "无",
        "gmtCreate": 1573005861000
      }
    ],
    "applies": [
      {
        "id": 44,
        "fromId": 3,
        "toId": 4,
        "applyReason": "h23412423156",
        "applyStatus": 1,
        "gmtCreate": 1571806604000,
        "gmtModified": 1571806722000,
        "userId": 4,
        "username": "1",
        "avatar": "1570841199761logo.png",
        "sex": 0,
        "sign": "暂无",
        "nickname": "33"
      }
    ]
  }
}
```

失败结果：

```
 "status": -20,
  "msg": "成功",
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=CB660D17A1A24E9932F5738F66EBA8D1",
  "msg": "用户名不存在"
   
}
```

失败结果：

```
 "status": -20,
  "msg": "成功",
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=CB660D17A1A24E9932F5738F66EBA8D1",
  "msg": "密码错误"
   
}
```



###### 修改密码

|                        url                         | 请求方式 | 请求参数 | 请求格式 |
| :------------------------------------------------: | :------: | :------: | :------: |
| http://116.62.12.63:8080/chat//user/updatePassword |   post   |  看下面  | json数据 |

|    参数     | 必选 |  类型  | 默认值 |    说明    |
| :---------: | :--: | :----: | :----: | :--------: |
| oldPassword | true | String |   无   | 用户旧密码 |
| newPassword | true | String |   无   | 用户新密码 |

测试事例

```
{
    "oldPasswrod" : "222222",
    "newPassword" : "111111"
}
```

成功结果：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwMzMxMDM3LCJ1c2VybmFtZSI6IjEifQ.c4PZShvRdWMnBmymMD_QD_EYloN5-k14TA6TMoawCEM"
   "sessionId": "JSESSIONID=8557DA429A5272D25AB21DD344EF9BF0",
}
```

失败结果：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwMzMxMDM3LCJ1c2VybmFtZSI6IjEifQ.c4PZShvRdWMnBmymMD_QD_EYloN5-k14TA6TMoawCEM"
   "sessionId": "JSESSIONID=8557DA429A5272D25AB21DD344EF9BF0",
   "msg" : "更改密码时，原密码错误"
}
```

###### 通过密保问题后修改密码

|                    url                     | 请求方式 | 请求参数 | 请求格式 |
| :----------------------------------------: | :------: | :------: | :------: |
| http://116.62.12.63:8080/chat//user/update |   post   |  看下面  | json数据 |

|   参数   | 必选 |  类型   | 默认值 |   说明   |
| :------: | :--: | :-----: | :----: | :------: |
| password | true | String  |   无   | 用户密码 |
|    id    | true | Integer |   无   |  用户id  |

测试事例

```
{
	"password" : "123232",
	"id" : 12
}
```

成功结果：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwMzMxMDM3LCJ1c2VybmFtZSI6IjEifQ.c4PZShvRdWMnBmymMD_QD_EYloN5-k14TA6TMoawCEM"
   "sessionId": "JSESSIONID=8557DA429A5272D25AB21DD344EF9BF0",
}
```

失败结果：

```
"status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwMzMxMDM3LCJ1c2VybmFtZSI6IjEifQ.c4PZShvRdWMnBmymMD_QD_EYloN5-k14TA6TMoawCEM"
   "sessionId": "JSESSIONID=8557DA429A5272D25AB21DD344EF9BF0",
   "msg" : "更改密码时，原密码错误"
```



###### 更新用户在线状态

|                             url                              | 请求方式 | 请求参数 | 请求格式 |
| :----------------------------------------------------------: | :------: | :------: | :------: |
| http://116.62.12.63:8080/chat//user/updateStatus/{id}/{status} |   get    |  看下面  |          |

|  参数  | 必选 |  类型   | 默认值 |  说明  |
| :----: | :--: | :-----: | :----: | :----: |
|   id   | true | Integer |   无   | 用户id |
| status | true | Integer |   无   |  用户  |

测试事例

```
http://116.62.12.63:8080/chat//user/updateStatus/4/0
```

成功结果：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=CC93B13F7C56B2E56D5C44694C811E71",
  "data": {
    "id": 4,
    "username": "2",
    "password": "",
    "status": 0,
    "loginTime": 1570327849000
  }
}
```

失败结果：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=CC93B13F7C56B2E56D5C44694C811E71",
  "msg" : "更新用户状态失败"
}
```



###### 查询用户主表信息

|                          url                          | 请求方式 | 请求参数 | 请求格式 |
| :---------------------------------------------------: | :------: | :------: | :------: |
| http://116.62.12.63:8080/chat//user/select/{username} |   get    |  看下面  |          |

|   参数   | 必选 |  类型  | 默认值 |  说明  |
| :------: | :--: | :----: | :----: | :----: |
| username | true | String |   无   | 用户名 |

注意头部(header)加上username

测试事例

```
http://116.62.12.63:8080/chat//user/select/2
```

成功结果：

```
{
  "status": 20,
  "data": {
    "id": 4,
    "username": "2",
    "password": "",
    "status": 1,
    "loginTime": 1573303921000
  }
}
```

失败

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=CC93B13F7C56B2E56D5C44694C811E71",
  "msg" : "用户不存在"
}
```



###### 退出登录

|                       url                       | 请求方式 | 请求参数 | 请求格式 |
| :---------------------------------------------: | :------: | :------: | :------: |
| http://116.62.12.63:8080/chat//user/logout/{id} |   get    |    id    |          |

| 参数 | 必选 |  类型   | 默认值 |  说明  |
| :--: | :--: | :-----: | :----: | :----: |
|  id  | true | Integer |   无   | 用户id |

测试事例

```
http://116.62.12.63:8080/chat//user/logout/3
```

成功结果：

```
{
"status": 20,
"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwMzI4Mzc0LCJ1c2VybmFtZSI6IjEifQ.CSnKQrZFq9GYNOT39-wSX2Kqh0wlZyaZHzmpz4O04Ew"
  "sessionId": "JSESSIONID=72C3F001DC21274C019C21AF56696274"
}
```

失败结果：

```
{
"status": 20,
"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwMzI4Mzc0LCJ1c2VybmFtZSI6IjEifQ.CSnKQrZFq9GYNOT39-wSX2Kqh0wlZyaZHzmpz4O04Ew"
  "sessionId": "JSESSIONID=72C3F001DC21274C019C21AF56696274"
"msg" : "更新用户登录状态失败"
}
```



###### 刷新token

|                             url                              | 请求方式 |   请求参数   | 请求格式 |
| :----------------------------------------------------------: | :------: | :----------: | :------: |
| http://116.62.12.63:8080/chat//user/refreshToken//{username}/{id} |   get    | id和username |          |

|   参数   | 必选 |  类型   | 默认值 |    说明    |
| :------: | :--: | :-----: | :----: | :--------: |
|    id    | true | Integer |   无   |   用户id   |
| username | true | String  |   无   | 用户账号名 |

测试事例：

```
http://116.62.12.63:8080/chat//user/refreshToken/2/5
```

成功结果：

```
{
"status": 20, "accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwMjk0MjkxLCJ1c2VybmFtZSI6IjEifQ.KiVO2Zi8fKOgD419uLNkBah8FJPh3lKz_MWgXsK1xtk"
 "sessionId": "JSESSIONID=8557DA429A5272D25AB21DD344EF9BF0",
}
```

失败结果：

```
"status": -20, "accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwMjk0MjkxLCJ1c2VybmFtZSI6IjEifQ.KiVO2Zi8fKOgD419uLNkBah8FJPh3lKz_MWgXsK1xtk"
 "sessionId": "JSESSIONID=8557DA429A5272D25AB21DD344EF9BF0",
 "msg" : "用户尚未登录"
```

失败结果：

```
"status": 40, "accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwMjk0MjkxLCJ1c2VybmFtZSI6IjEifQ.KiVO2Zi8fKOgD419uLNkBah8FJPh3lKz_MWgXsK1xtk"
 "sessionId": "JSESSIONID=8557DA429A5272D25AB21DD344EF9BF0",
 "msg" : "刷新token失败"
```

###### 注销账号

|                       url                       | 请求方式 | 请求参数 | 请求格式 |
| :---------------------------------------------: | :------: | :------: | :------: |
| http://116.62.12.63:8080/chat//user/delete/{id} |   get    |    id    |          |

| 参数 | 必选 |  类型   | 默认值 |  说明  |
| :--: | :--: | :-----: | :----: | :----: |
|  id  | true | Integer |   无   | 用户id |

测试事例：

```
http://116.62.12.63:8080/chat//user/delete/3
```

结果事例：

```
{
"status": 20, "accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwMjk0MjkxLCJ1c2VybmFtZSI6IjEifQ.KiVO2Zi8fKOgD419uLNkBah8FJPh3lKz_MWgXsK1xtk"
 "sessionId": "JSESSIONID=8557DA429A5272D25AB21DD344EF9BF0",
}
```

###### 判断用户是否存在

|                         url                          | 请求方式 | 请求参数 | 请求格式 |
| :--------------------------------------------------: | :------: | :------: | :------: |
| http://116.62.12.63:8080/chat//user/check/{username} |   get    |          |          |

|   参数   | 必选 |  类型  | 默认值 |  说明  |
| :------: | :--: | :----: | :----: | :----: |
| username | true | String |   无   | 用户名 |

测试事例：

```
http://116.62.12.63:8080/chat//user/check/2
```

成功结果

```
{
"status": 20, "accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwMjk0MjkxLCJ1c2VybmFtZSI6IjEifQ.KiVO2Zi8fKOgD419uLNkBah8FJPh3lKz_MWgXsK1xtk"
 "sessionId": "JSESSIONID=8557DA429A5272D25AB21DD344EF9BF0",
}
```

失败结果

```
{
  "status": -20,
  "msg": "用户不存在",
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=4872806DF729ECF673ABF1EB954BB22A"
}
```







#### 私聊消息接口/messageController接口

###### 根据消息id删除消息

|                        url                         | 请求方式 | 请求参数 | 请求格式 |
| :------------------------------------------------: | :------: | :------: | :------: |
| http://116.62.12.63:8080/chat//message/delete/{id} |   get    |    id    |          |

| 参数 | 必选 |  类型   | 默认值 |  说明  |
| :--: | :--: | :-----: | :----: | :----: |
|  id  | true | Integer |   无   | 消息id |

成功结果：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=828D3A2D8E67ACBD6419025CF589F328"
}
```

###### 根据用户id和好友id删除消息

|                             url                              | 请求方式 |  请求参数   | 请求格式 |
| :----------------------------------------------------------: | :------: | :---------: | :------: |
| http://116.62.12.63:8080/chat//message/delete/{id}/{friendId} |   get    | id/friendId |          |

|   参数   | 必选 |  类型   | 默认值 |  说明  |
| :------: | :--: | :-----: | :----: | :----: |
|    id    | true | Integer |   无   | 用户id |
| friendId | true | Intger  |   无   | 好友id |

测试结果：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=828D3A2D8E67ACBD6419025CF589F328"
}
```



###### 查询用户和好友的聊天信息

|                             url                              | 请求方式 | 请求参数 | 请求格式 |
| :----------------------------------------------------------: | :------: | :------: | :------: |
| http://116.62.12.63:8080/chat//message/query/{id}/{friendId} |   get    |    id    |          |

|   参数   | 必选 |  类型   | 默认值 |  说明  |
| :------: | :--: | :-----: | :----: | :----: |
|    id    | true | Integer |   无   | 用户id |
| friendId | true | Integer |   无   | 好友id |

成功结果：

```
 {
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=B4FEBAB272EB4048C3FFAA200AD4D0F2",
  "data": [
    {
      "id": 8,
      "message": "3",
      "messageType": 3,
      "type": null,
      "fromId": 4,
      "toIdOrGroupId": 3,
      "gmtCreate": 1571067530000,
      "avatar": "default.png",
      "name": "44"
    },
    {
      "id": 14,
      "message": "年后",
      "messageType": 1,
      "type": null,
      "fromId": 3,
      "toIdOrGroupId": 4,
      "gmtCreate": 1571896013000,
      "avatar": "1570841199761logo.png",
      "name": "33"
    }
  ]
}
```

###### 查询用户的未读消息

|                             url                              | 请求方式 | 请求参数 | 请求格式 |
| :----------------------------------------------------------: | :------: | :------: | :------: |
| http://116.62.12.63:8080/chat//message/selectUnReadSendMessage |   get    |          |          |

成功结果：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=596C12D2656DAF38586E792014660380",
  "data": [
    {
      "id": 14,
      "message": "年后",
      "messageType": 1,
      "type": null,
      "fromId": 3,
      "toIdOrGroupId": 4,
      "gmtCreate": 1571896013000,
      "avatar": "1570841199761logo.png",
      "name": "33"
    }
  ]
}
```

失败结果:

```
{
  "status": -20,
  "msg": "没有找到未读的消息",
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=596C12D2656DAF38586E792014660380"
}
```



#### groupController接口

###### 创建群聊

|                     url                     | 请求方式 | 请求参数 | 请求格式 |
| :-----------------------------------------: | :------: | :------: | :------: |
| http://116.62.12.63:8080/chat//group/insert |   post   |          |   json   |

|     参数     | 必选 |  类型   | 默认值 |  说明  |
| :----------: | :--: | :-----: | :----: | :----: |
| groupAdminId | true | Integer |   无   | 群主id |

成功结果：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=86F852438063A34442774D467D6B0256",
  "data": 7
}
```



###### 删除群聊

|                       url                        | 请求方式 | 请求参数 | 请求格式 |
| :----------------------------------------------: | :------: | :------: | :------: |
| http://116.62.12.63:8080/chat//group/delete/{id} |   get    |          |          |

| 参数 | 必选 |  类型   | 默认值 |  说明  |
| :--: | :--: | :-----: | :----: | :----: |
|  id  | true | Integer |   无   | 群主id |

成功结果：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwMzMzODA4LCJ1c2VybmFtZSI6IjEifQ.sv4kEWeHnwNQ83XwM7Y659gkSjImQjcXGxA9XYoYnPc",
   "sessionId": "JSESSIONID=596C12D2656DAF38586E792014660380"
}
```

注意：只有群主能删除群聊



###### 更新群聊信息

|                     url                     | 请求方式 | 请求参数 | 请求格式 |
| :-----------------------------------------: | :------: | :------: | :------: |
| http://116.62.12.63:8080/chat//group/update |   post   |          |   json   |

|       参数        | 必选  |  类型   | 默认值 |    说明    |
| :---------------: | :---: | :-----: | :----: | :--------: |
|        id         | true  | Integer |   无   |    群id    |
|     groupName     | false | String  |   无   |   群名字   |
|    groupNotice    | false | String  |   无   |   群公告   |
| groupIntroduciton | false | String  |   无   |   群介绍   |
|   groupAdminId    | false | Integer |   无   | 更换群主id |

测试事例

```
{
	"id" : 1,
	"groupName" : "afaf"
}
```

成功结果:

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=C9D75E6ECF44D353919F961C38549F2F",
  "data": {
    "id": 9,
    "groupName": "群聊",
    "groupAdminId": 3,
    "groupIcon": "http://116.62.12.63:8080/images/default.png",
    "groupNotice": "无",
    "groupIntroduction": "无",
    "gmtCreate": 1572956090000
  }
}
```

###### 查询用户在的所有群聊

|                      url                       | 请求方式 | 请求参数 | 请求格式 |
| :--------------------------------------------: | :------: | :------: | :------: |
| http://116.62.12.63:8080/chat//group/selectAll |   get    |          |          |

测试事例

```
http://116.62.12.63:8080/chat//group/selectAll
```



成功结果：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=FA47D4F617A12FACD6CFDED167270083",
  "data": [
    {
      "id": 3,
      "groupName": "2",
      "groupAdminId": 4,
      "groupIcon": "default.png",
      "groupNotice": "广告",
      "groupIntroduction": "jie'sao",
      "gmtCreate": 1570340210000
    },
    {
      "id": 3,
      "groupName": "2",
      "groupAdminId": 4,
      "groupIcon": "default.png",
      "groupNotice": "广告",
      "groupIntroduction": "jie'sao",
      "gmtCreate": 1570340210000
    },
    {
      "id": 4,
      "groupName": "2",
      "groupAdminId": 4,
      "groupIcon": "default.png",
      "groupNotice": "测试",
      "groupIntroduction": "jiesao",
      "gmtCreate": 1570348991000
    },
    {
      "id": 4,
      "groupName": "2",
      "groupAdminId": 4,
      "groupIcon": "default.png",
      "groupNotice": "测试",
      "groupIntroduction": "jiesao",
      "gmtCreate": 1570348991000
    },
    {
      "id": 6,
      "groupName": "3",
      "groupAdminId": 3,
      "groupIcon": "http://116.62.12.63:8080/images/default.png",
      "groupNotice": "23",
      "groupIntroduction": "23",
      "gmtCreate": 1571276023000
    },
    {
      "id": 7,
      "groupName": "群聊",
      "groupAdminId": 4,
      "groupIcon": "http://116.62.12.63:8080/images/default.png",
      "groupNotice": "无",
      "groupIntroduction": "无",
      "gmtCreate": 1572793907000
    }
  ]
}
```



#### groupToUserController接口

###### 添加群用户

|                             url                              | 请求方式 | 请求参数 | 请求格式 |
| :----------------------------------------------------------: | :------: | :------: | :------: |
| http://116.62.12.63:8080/chat//groupToUser/insert/{userId}/{groupId} |   get    |          |          |

|  参数   | 必选 |  类型   | 默认值 |  说明  |
| :-----: | :--: | :-----: | :----: | :----: |
| groupId | true | Integer |   无   |  群id  |
| userId  | true | Integer |   无   | 用户id |

测试事例：

```
http://116.62.12.63:8080/chat//groupToUser/insert/4/4
```

成功结果：

```
 "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=524C7CF6B6FD54CE9CC8DDD6700082CF",
  "data": [
    {
      "id": 12,
      "userId": 3,
      "groupId": 4,
      "groupNickname": "2",
      "gmtCreate": 1572793907000,
      "nickname": "33",
      "avatar": "1570841199761logo.png",
      "sex": 0,
      "email": null,
      "sign": "暂无",
      "username": "1"
    },
    {
      "id": 9,
      "userId": 4,
      "groupId": 4,
      "groupNickname": "44",
      "gmtCreate": 1572793710000,
      "nickname": "44",
      "avatar": "default.png",
      "sex": 0,
      "email": null,
      "sign": "暂无",
      "username": "2"
    },
    {
      "id": 10,
      "userId": 8,
      "groupId": 4,
      "groupNickname": "2",
      "gmtCreate": 1572793907000,
      "nickname": "88",
      "avatar": "http://116.62.12.63:8080/images/default.png",
      "sex": 0,
      "email": null,
      "sign": "暂无",
      "username": "5"
    }
  ]
```

失败结果：

```
{
  "status": -20,
  "msg": "用户已经加入群聊",
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=313DCE07A86C2BBBF16EBAAE3A88EC8A"
}
```



###### 根据群id和用户id使用户退出群聊

|                             url                              | 请求方式 | 请求参数 | 请求格式 |
| :----------------------------------------------------------: | :------: | :------: | :------: |
| http://116.62.12.63:8080/chat//groupToUser/delete/{userId}/{groupId} |   get    |          |          |

|  参数   | 必选 |  类型   | 默认值 |  说明  |
| :-----: | :--: | :-----: | :----: | :----: |
| groupId | true | Integer |   无   |  群id  |
| userId  | true | Integer |   无   | 用户id |

测试事例：

```
http://116.62.12.63:8080/chat//groupToUser/delete/4/3
```

成功结果：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=111294475852D7AAD27418062CEF2E29"
}
```



###### 更新用户在群中信息

|                        url                        | 请求方式 | 请求参数 | 请求格式 |
| :-----------------------------------------------: | :------: | :------: | :------: |
| http://116.62.12.63:8080/chat//groupToUser/update |   post   |          |          |

|     参数      | 必选  |  类型   | 默认值 |      说明      |
| :-----------: | :---: | :-----: | :----: | :------------: |
|    userId     | true  | Integer |   无   |     用户id     |
|    groupId    | true  | Integer |   无   |      群id      |
| groupNickname | false | String  |   无   | 用户在群的昵称 |

测试事例：

```
{
    "userId" : 4,
    "groupId" : 9,
    "groupNickname" : "234"
}
```

成功结果：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=313DCE07A86C2BBBF16EBAAE3A88EC8A"
}
```



###### 查询用户在群中信息

|                             url                              | 请求方式 | 请求参数 | 请求格式 |
| :----------------------------------------------------------: | :------: | :------: | :------: |
| http://116.62.12.63:8080/chat//groupToUser/select/{userId}/{groupId} |   get    |          |          |

|  参数   | 必选 |  类型   | 默认值 |        说明        |
| :-----: | :--: | :-----: | :----: | :----------------: |
| userId  | true | Integer |   无   | 用户在群用户中的id |
| groupId | true | Integer |   无   |        群id        |

测试事例：

```
http://116.62.12.63:8080/chat//groupToUser/select/4/4
```

结果：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=58547B8EDB1DE8D6DB180A3D64C9DC8D",
  "data": {
    "id": 9,
    "userId": 4,
    "groupId": 4,
    "groupNickname": "44",
    "gmtCreate": 1572793710000,
    "nickname": "44",
    "avatar": "default.png",
    "sex": 0,
    "email": null,
    "sign": "暂无",
    "username": "2"
  }
}
```



###### 查询在群中所有用户信息

|                             url                             | 请求方式 | 请求参数 | 请求格式 |
| :---------------------------------------------------------: | :------: | :------: | :------: |
| http://116.62.12.63:8080/chat//groupToUser/select/{groupId} |   get    |          |          |

|  参数   | 必选 |  类型   | 默认值 | 说明 |
| :-----: | :--: | :-----: | :----: | :--: |
| groupId | true | Integer |   无   | 群id |

测试事例：

```
http://116.62.12.63:8080/chat//groupToUser/select/4
```

结果：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=524C7CF6B6FD54CE9CC8DDD6700082CF",
  "data": [
    {
      "id": 12,
      "userId": 3,
      "groupId": 4,
      "groupNickname": "2",
      "gmtCreate": 1572793907000,
      "nickname": "33",
      "avatar": "1570841199761logo.png",
      "sex": 0,
      "email": null,
      "sign": "暂无",
      "username": "1"
    },
    {
      "id": 9,
      "userId": 4,
      "groupId": 4,
      "groupNickname": "44",
      "gmtCreate": 1572793710000,
      "nickname": "44",
      "avatar": "default.png",
      "sex": 0,
      "email": null,
      "sign": "暂无",
      "username": "2"
    },
    {
      "id": 10,
      "userId": 8,
      "groupId": 4,
      "groupNickname": "2",
      "gmtCreate": 1572793907000,
      "nickname": "88",
      "avatar": "http://116.62.12.63:8080/images/default.png",
      "sex": 0,
      "email": null,
      "sign": "暂无",
      "username": "5"
    }
  ]
}
```



#### friendController接口

###### 修改好友信息

|                     url                      | 请求方式 | 请求格式 |
| :------------------------------------------: | :------: | :------: |
| http://116.62.12.63:8080/chat//friend/update |   post   | json格式 |

|    参数     | 必选  |  类型   | 默认值 |     说明     |
| :---------: | :---: | :-----: | :----: | :----------: |
| friendName  | false | String  |   无   |   用户昵称   |
| friendGroup | false | String  |  默认  | 设置用户分组 |
|   userId    | true  | Integer |   无   |    用户id    |
|  friendId   | true  | Integer |   无   |    好友id    |

friendName和friendGroup其中一个参数即可

测试事例:

```
{
    "friendName" : "12d",
    "userId" : 3,
    "friendId" : 4
}
```

成功结果：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=35920860966267CBEBF54B33A1DC83C9",
  "data": {
     "friendName": "1",
        "friendGroup": "默认",
        "friendId": 3,
        "userId": 4,
        "isDelete": 0,
        "username": "1",
        "status": 0,
        "loginTime": 1570265038000,
        "sex": 0,
        "sign": "暂无",
        "avatar": "1570841199761logo.png",
        "nickname": "33"
  }
}
```

失败结果：

```

 "status": 40,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NSwiZXhwIjoxNTcxMTI4MTkyLCJ1c2VybmFtZSI6IjIifQ.hQOMMUWPQ9wTM1GNRtnfIgw5rU9-Uxl8hWkcsX1WGWY",
  "sessionId": "JSESSIONID=0FB07DFF0F3DEAE26F86A4218F0F9DE3"
  "msg" : "更新好友信息失败"
```



###### 查询所有好友

|                       url                       | 请求方式 | 请求格式 |
| :---------------------------------------------: | :------: | :------: |
| http://116.62.12.63:8080/chat//friend/selectAll |   get    |          |

测试事例:

```
http://116.62.12.63:8080/chat//friend/selectAll
```

结果事例：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywidXNlcm5hbWUiOiIxIn0.xsYvW6GEF33j7MQSR9FlO_j7d5RvIR4eeo2uJZgvpIs",
  "sessionId": "JSESSIONID=29C197D948286B848DB881A0782A69BD",
  "data": [
    {
      "friendName": "微信官方",
      "friendGroup": "默认",
      "friendId": 0,
      "userId": 3,
      "isDelete": 0,
      "username": "1",
       "status": 0,
      "loginTime": 1570265038000,
      "sign": "暂无",
      "avatar": "1570841199761logo.png"
       "nickname": "33"
    },
    {
       "friendName": "3",
        "friendGroup": "默认",
        "friendId": 3,
        "userId": 4,
        "isDelete": 0,
        "username": "1",
         "status": 0,
        "loginTime": 1570265038000,
        "sex": 0,
        "sign": "暂无",
        "avatar": "1570841199761logo.png",
        "nickname": "33"
    }
  ]
}
```



###### 根据好友id删除好友

|                           url                           | 请求方式 | 请求格式 |
| :-----------------------------------------------------: | :------: | :------: |
| http://116.62.12.63:8080/chat//friend/delete/{friendId} |   get    |          |

测试事例

```
http://116.62.12.63:8080/chat//friend/delete/6
```

成功结果：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NSwiZXhwIjoxNTcxMTI5ODAyLCJ1c2VybmFtZSI6IjIifQ.AkzM3LqpyRG6UW7pc0XZusONCQ6gKseU4fxGA-RQY38",
  "sessionId": "JSESSIONID=0FB07DFF0F3DEAE26F86A4218F0F9DE3"
}
```

失败结果：

```
 "status": -20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NSwiZXhwIjoxNTcxMTI4MTkyLCJ1c2VybmFtZSI6IjIifQ.hQOMMUWPQ9wTM1GNRtnfIgw5rU9-Uxl8hWkcsX1WGWY",
  "sessionId": "JSESSIONID=0FB07DFF0F3DEAE26F86A4218F0F9DE3"
  "msg" : "用户不能删除自己"
```



###### 根据好友昵称查询好友

|                             url                              | 请求方式 | 请求格式 |
| :----------------------------------------------------------: | :------: | :------: |
| http://116.62.12.63:8080/chat//friend/selectFriend/{friendName} |   get    |          |

测试事例

```
http://116.62.12.63:8080/chat//friend/selectFriend/42334
```

结果事例：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NSwiZXhwIjoxNTcxMTMzMjgxLCJ1c2VybmFtZSI6IjIifQ.35xy5IbZfjY-tU0LXEwYYJk_OALrVEA46L2FptrwWLg",
  "sessionId": "JSESSIONID=0FB07DFF0F3DEAE26F86A4218F0F9DE3",
  "data":{
       "friendName": "1",
        "friendGroup": "默认",
        "friendId": 3,
        "userId": 4,
        "isDelete": 0,
        "username": "1",
        "status": 0,
        "loginTime": 1570265038000,
        "sex": 0,
        "sign": "暂无",
        "avatar": "1570841199761logo.png",
        "nickname": "33"
    }
}
```



#### applyController

###### 添加好友申请

|                     url                     | 请求方式 | 请求格式 |
| :-----------------------------------------: | :------: | :------: |
| http://116.62.12.63:8080/chat//apply/insert |   post   | json数据 |

|    参数     | 必选 |  类型   | 默认值 |                    说明                    |
| :---------: | :--: | :-----: | :----: | :----------------------------------------: |
|   fromId    | true | Integer |   无   |              发送申请的用户id              |
|    toId     | true | Integer |   无   |              接收申请的用户id              |
| applyReason | true | String  |   无   | 申请原因(用户不写，你可以设置在默认值给我) |

数据事例：

```
{
    "fromId" : 3,
    "toId" : 4,
    "applyReason" : "che"
    
}
```

成功结果:

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwOTMzNDY1LCJ1c2VybmFtZSI6IjEifQ.ZRwhY3QivUshKLfp9UIryYauviHYaIVSf0UA3ZTNkvg"
}
```

失败结果:

```
{
  "status": -20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwOTMzNDY1LCJ1c2VybmFtZSI6IjEifQ.ZRwhY3QivUshKLfp9UIryYauviHYaIVSf0UA3ZTNkvg"
  "msg" : "已经是好友"
}
```

失败结果:

```
{
  "status": -20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwOTMzNDY1LCJ1c2VybmFtZSI6IjEifQ.ZRwhY3QivUshKLfp9UIryYauviHYaIVSf0UA3ZTNkvg"
  "msg" : "请耐心等待，对方还没处理申请"
}
```

失败结果:

```
{
  "status": 40,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwOTMzNDY1LCJ1c2VybmFtZSI6IjEifQ.ZRwhY3QivUshKLfp9UIryYauviHYaIVSf0UA3ZTNkvg"
  "msg" : "添加申请失败"
}
```



###### 删除一条好友申请

|                         url                          | 请求方式 | 请求格式 |
| :--------------------------------------------------: | :------: | :------: |
| http://116.62.12.63:8080/chat//apply/deleteById/{id} |   get    |          |

| 参数 | 必选 |  类型   | 默认值 |    说明    |
| :--: | :--: | :-----: | :----: | :--------: |
|  id  | true | Integer |   无   | 该申请的id |

测试事例

```
http://116.62.12.63:8080/chat//apply/deleteById/3
```

结果事例：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwOTM0NzU5LCJ1c2VybmFtZSI6IjEifQ.FFlbb_mbFZF30R49apa1wUqEdw2-dlOFpdk0olQG9P4"
}
```





###### 更新好友申请的状态

|                     url                     | 请求方式 | 请求格式 |
| :-----------------------------------------: | :------: | :------: |
| http://116.62.12.63:8080/chat//apply/update |   post   | json格式 |

|    参数     | 必选 |  类型   | 默认值 |          说明          |
| :---------: | :--: | :-----: | :----: | :--------------------: |
|   fromId    | true | Integer |   无   |    发送申请的用户id    |
|    toId     | true | Integer |   无   |    接收申请的用户id    |
| applyStatus | true | Integer |   无   | 1同意，-1拒绝，0未处理 |

数据事例

```
{
    "applyStatus" : 1,
    "fromId" : 3,
    "toId" : 4
}
```

成功结果：

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwOTM2NDE4LCJ1c2VybmFtZSI6IjEifQ.4nhUflTIlt-990u2d4p20sLMQ_voAJFrBih5rT5peiY"
}
```

失败结果：

```
{
  "status": 40,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwOTM2NDE4LCJ1c2VybmFtZSI6IjEifQ.4nhUflTIlt-990u2d4p20sLMQ_voAJFrBih5rT5peiY"
  "msg" : "更新申请失败"
}
```



###### 查询所有用户的申请

|                           url                           | 请求方式 | 请求格式 |
| :-----------------------------------------------------: | :------: | :------: |
| http://116.62.12.63:8080/chat//apply/selectAll/{userId} |   get    |          |

|  参数  | 必选 |  类型   | 默认值 |  说明  |
| :----: | :--: | :-----: | :----: | :----: |
| userId | true | Integer |   无   | 用户id |

数据事例

```
http://116.62.12.63:8080/chat//apply/selectAll/3
```

成功结果

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwOTM2NDE4LCJ1c2VybmFtZSI6IjEifQ.4nhUflTIlt-990u2d4p20sLMQ_voAJFrBih5rT5peiY",
  "data": {
        {
          "id": 3,
          "fromId": 3,
          "toId": 4,
          "applyReason": "申请申请li'you",
          "applyStatus": 1,
          "gmtCreate": 1570629815000,
          "gmtModified": 1570935529000,
          "userId": 3,
          "username": "2",
          "avatar": "default.png",
          "sex": 0,
          "sign": "暂无",
          "nickname": "2"
        },
        {
          "id": 12,
          "fromId": 3,
          "toId": 4,
          "applyReason": "che",
          "applyStatus": 0,
          "gmtCreate": 1571449357000,
          "gmtModified": 1571449357000,
          "userId": 3,
          "username": "2",
          "avatar": "default.png",
          "sex": 0,
          "sign": "暂无",
          "nickname": "2"
        },
        {
          "id": 14,
          "fromId": 3,
          "toId": 4,
          "applyReason": "che",
          "applyStatus": 0,
          "gmtCreate": 1571459010000,
          "gmtModified": 1571459010000,
          "userId": 3,
          "username": "2",
          "avatar": "default.png",
          "sex": 0,
          "sign": "暂无",
          "nickname": "2"
        },
        {
          "id": 16,
          "fromId": 3,
          "toId": 4,
          "applyReason": "che",
          "applyStatus": 0,
          "gmtCreate": 1571459832000,
          "gmtModified": 1571459832000,
          "userId": 3,
          "username": "2",
          "avatar": "default.png",
          "sex": 0,
          "sign": "暂无",
          "nickname": "2"
        },
        {
          "id": 18,
          "fromId": 3,
          "toId": 4,
          "applyReason": "hjhkjh54156",
          "applyStatus": 0,
          "gmtCreate": 1571460083000,
          "gmtModified": 1571460083000,
          "userId": 3,
          "username": "2",
          "avatar": "default.png",
          "sex": 0,
          "sign": "暂无",
          "nickname": "2"
        },
        {
          "id": 20,
          "fromId": 3,
          "toId": 4,
          "applyReason": "hjhkjh54156",
          "applyStatus": 0,
          "gmtCreate": 1571460315000,
          "gmtModified": 1571460315000,
          "userId": 3,
          "username": "2",
          "avatar": "default.png",
          "sex": 0,
          "sign": "暂无",
          "nickname": "2"
        },
        {
          "id": 22,
          "fromId": 3,
          "toId": 4,
          "applyReason": "h1224156",
          "applyStatus": 0,
          "gmtCreate": 1571460345000,
          "gmtModified": 1571460345000,
          "userId": 3,
          "username": "2",
          "avatar": "default.png",
          "sex": 0,
          "sign": "暂无",
          "nickname": "2"
        }
  }
}
```

###### 查询一个的申请信息

|                             url                             | 请求方式 | 请求格式 |
| :---------------------------------------------------------: | :------: | :------: |
| http://116.62.12.63:8080/chat//apply/select/{fromId}/{toId} |   get    |          |

|  参数  | 必选 |  类型   | 默认值 |     说明     |
| :----: | :--: | :-----: | :----: | :----------: |
| fromId | true | Integer |   无   |  申请人的id  |
|  toId  | true | Integer |   无   | 被申请人的id |

数据事例

```
http://116.62.12.63:8080/chat//apply/select/3/4
```

成功结果

```
 "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwOTM2NDE4LCJ1c2VybmFtZSI6IjEifQ.4nhUflTIlt-990u2d4p20sLMQ_voAJFrBih5rT5peiY",
  "data": {
          "id": 22,
          "fromId": 3,
          "toId": 4,
          "applyReason": "h1224156",
          "applyStatus": 0,
          "gmtCreate": 1571460345000,
          "gmtModified": 1571460345000,
          "userId": 3,
          "username": "2",
          "avatar": "default.png",
          "sex": 0,
          "sign": "暂无",
          "nickname": "2"
        }
```

失败结果：

```
 "status": 40,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwOTM2NDE4LCJ1c2VybmFtZSI6IjEifQ.4nhUflTIlt-990u2d4p20sLMQ_voAJFrBih5rT5peiY",
  "msg" : "查询不到该申请"
```



#### 密保接口/SecretSecurityController接口

###### 添加密保

|                      url                       | 请求方式 | 请求格式 |
| :--------------------------------------------: | :------: | :------: |
| http://116.62.12.63:8080/chat//security/insert |   post   |   json   |

|   参数    | 必选 |  类型   | 默认值 |    说明    |
| :-------: | :--: | :-----: | :----: | :--------: |
| question1 | true | String  |   无   | 密保问题一 |
|  answer1  | true | String  |   无   | 密保答案一 |
| question2 | true | String  |   无   | 密保问题二 |
|  answer2  | true | String  |   无   | 密保答案二 |
|  userId   | true | Integer |   无   |   用户id   |

数据事例

```
{
    "question1" : "23",
    "answer1" : "1",
    "question2" : "123",
    "answer2" : "12",
    "userId" : 3
}
```

成功结果

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=3893F83147223AF36137A7850779EDDD"
}
```

失败结果：

```
 "status": -20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwOTM2NDE4LCJ1c2VybmFtZSI6IjEifQ.4nhUflTIlt-990u2d4p20sLMQ_voAJFrBih5rT5peiY",
  "msg" : "已经设置过密保问题"
```

失败结果：

```
 "status": 40,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwOTM2NDE4LCJ1c2VybmFtZSI6IjEifQ.4nhUflTIlt-990u2d4p20sLMQ_voAJFrBih5rT5peiY",
  "msg" : "插入密保问题出错"
```



###### 查询密保问题

|                           url                           | 请求方式 | 请求格式 |
| :-----------------------------------------------------: | :------: | :------: |
| http://116.62.12.63:8080/chat//security/select/{userId} |   get    |          |

|  参数  | 必选 |  类型   | 默认值 |  说明  |
| :----: | :--: | :-----: | :----: | :----: |
| userId | true | Integer |   无   | 用户id |

数据事例

```
http://116.62.12.63:8080/chat//security/select/3
```

成功结果

```
{
  "status": 20,
  "data": {
    "question1": "12",
    "answer1": null,
    "question2": "avba",
    "answer2": null,
    "userId": 3
  }
}
```

失败结果：

```
 "status": -20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwOTM2NDE4LCJ1c2VybmFtZSI6IjEifQ.4nhUflTIlt-990u2d4p20sLMQ_voAJFrBih5rT5peiY",
  "msg" : "查询不到密保问题"
```

###### 更新密保问题或答案

|                      url                       | 请求方式 | 请求格式 |
| :--------------------------------------------: | :------: | :------: |
| http://116.62.12.63:8080/chat//security/update |   post   |   json   |

|   参数    | 必选  |  类型  | 默认值 |    说明    |
| :-------: | :---: | :----: | :----: | :--------: |
| question1 | false | String |   无   | 密保问题一 |
|  answer1  | false | String |   无   | 密保答案一 |
| question2 | false | String |   无   | 密保问题二 |
|  answer2  | false | String |   无   | 密保答案二 |

数据事例

```
{
    "answer2" : "3423fs",
    "userId" : 3
}
```

成功结果

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=3893F83147223AF36137A7850779EDDD"
}
```

失败结果：

```
 "status": 40,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwOTM2NDE4LCJ1c2VybmFtZSI6IjEifQ.4nhUflTIlt-990u2d4p20sLMQ_voAJFrBih5rT5peiY",
  "msg" : "更新密保问题出错"
```

###### 验证密保答案

|                      url                       | 请求方式 | 请求格式 |
| :--------------------------------------------: | :------: | :------: |
| http://116.62.12.63:8080/chat//security/verify |   post   |   json   |

|  参数   | 必选 |  类型   | 默认值 |    说明    |
| :-----: | :--: | :-----: | :----: | :--------: |
| answer1 | true | String  |   无   | 密保答案一 |
| answer2 | true | String  |   无   | 密保答案二 |
| userId  | true | Integer |   无   |   用户id   |

测试事例

```
{
    "answer1" : "1",
    "answer2" : "a",
    "userId" : 4
}
```

成功结果

```
{
  "status": 20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcm5hbWUiOiIyIn0.C_ePohQFAWRnTeo7GBgf6IziW7Mbo8lkLp3Y1u8Rbvk",
  "sessionId": "JSESSIONID=3893F83147223AF36137A7850779EDDD"
}
```

失败结果

```
 "status": -20,
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZXhwIjoxNTcwOTM2NDE4LCJ1c2VybmFtZSI6IjEifQ.4nhUflTIlt-990u2d4p20sLMQ_voAJFrBih5rT5peiY",
  "msg" : "答案不对"
```





#### 数据格式

|       属性        |      含义      |                       要求                       | 所属表或接口                    |
| :---------------: | :------------: | :----------------------------------------------: | ------------------------------- |
|     username      |      账号      | 是否满足3到9个任意数字或字母组成的账号，不能为空 | user/userController接口         |
|     password      |      密码      |   是否满足数字和字母组成的任意6到9位,不能为空    | user/userController接口         |
|       sign        |    个性签名    |          20个字符串以内，不能为空字符串          | userInfo/userInfoController接口 |
|    applyReason    |    申请理由    |          20个字符串以内，不能为空字符串          | apply/applyController接口       |
|    friendName     | 好友昵称或备注 |          20个字符串以内，不能为空字符串          | friend/friendController接口     |
|    friendGroup    |    好友分组    |          20个字符串以内，不能为空字符串          | friend/friendController接口     |
|     groupName     |      群名      |          20个字符串以内，不能为空字符串          | group/groupController接口       |
|    groupNotice    |     群公告     |          50个字符串以内，不能为空字符串          | group/groupController接口       |
| groupIntroduction |     群简介     |          50个字符串以内，不能为空字符串          | group/groupController接口       |
|     gmContent     |     群消息     |         255个字符串以内，不能为空字符串          | groupMessageContent             |
|  messageContent   |      消息      |         255个字符串以内，不能为空字符串          | messge/messgeController接口     |
|     nickname      |    用户昵称    |          20个字符串以内，不能为空字符串          | userInfo/userInfoContoller接口  |
|       email       |      邮箱      |                满足邮箱的格式即可                | userInfo/userInfoContoller接口  |
|     birthday      |      生日      |                  这种2019-11-11                  | userInfo/userInfoContoller接口  |





|   文件名   |                            作用                            |
| :--------: | :--------------------------------------------------------: |
| controller |                    控制层，分派业务逻辑                    |
|  service   |                  业务逻辑层的接口和实现类                  |
|    dao     |                        数据层的接口                        |
|   domain   | 项目中使用的实体类（JavaBean）每一个对应数据库中的一张表。 |
|   utils    |    存放工具类的包，项目中封装的一些较常出现的处理方法。    |
|   common   |         存放常量类的包，封装了项目中经常使用的常量         |
|   config   |                       存放配置类的包                       |
|   enums    |                       存放枚举类的包                       |
| execption  |                       存放异常类的包                       |



|      工具      |               名称               |
| :------------: | :------------------------------: |
|    开发工具    |          idea 2019.1.1           |
| Web应用服务器  |          tomcat 9.0.19           |
| 数据库管理系统 |            mysql 7.1             |
| 使用语言：后端 | springmvc+spring+mybatis+redis。 |

